## Litmus 
<img width="108" height="103" alt="Снимок экрана 2025-11-10 в 13 58 40" src="https://github.com/user-attachments/assets/4345addb-13ec-4a7c-99c2-4787dc46c628" />

# Репозиторий экспорта постов

Этот репозиторий содержит автоматически экспортированные посты из различных источников.

## Структура репозитория

Репозиторий организован по следующей структуре:
```
[корневая директория]/
├── [тип_источника]/
│ ├── [безопасное_имя_источника_id_[ID]]/
│ │ ├── YYYY-MM.csv
│ │ ├── YYYY-MM.csv
│ │ └── ...
│ ├── [другой_источник_id_[ID]]/
│ │ ├── YYYY-MM.csv
│ │ └── ...
│ └── ...
└── README.md
```

### Компоненты структуры:

- **Тип источника** - категория источника (например: telegram, twitter, rss)
- **Безопасное имя источника** - имя источника, очищенное от специальных символов
- **ID источника** - уникальный идентификатор источника в системе
- **Файлы месяцев** - CSV файлы, содержащие посты за конкретный месяц

## Формат CSV файлов

Каждый CSV файл содержит посты за один месяц и имеет следующие колонки:

| Колонка | Описание | Формат |
|---------|-----------|---------|
| `id` | Внутренний ID поста в системе | Число |
| `external_id` | Внешний ID поста из источника | Строка |
| `message_preview` | Превью сообщения (первые 50 + ... + последние 50 символов) | Строка |
| `hash` | MD5 хэш полного сообщения | Строка (32 символа) |
| `published_at` | Время публикации поста | ISO формат (2023-10-01T12:30:45) |
| `created_at` | Время создания записи в системе | ISO формат |
| `source_id` | ID источника | Число |
| `source_name` | Название источника | Строка |

## Как проверить конкретный канал

### 1. Найдите канал по имени

Перейдите в директорию соответствующего типа источника и найдите папку с именем канала. Имя папки формируется как:

- Исходное имя канала очищается от специальных символов
- Повторяющиеся подчеркивания сжимаются
- В конце добавляется "_id_[ID]"

Например, канал "My Telegram Channel!" будет представлен как:
`My_Telegram_Channel_id_123`

### 2. Просмотрите историю постов

В папке канала найдите CSV файлы по месяцам. Каждый файл соответствует одному месяцу и содержит все посты, опубликованные в этот месяц.

### 3. Проверьте конкретный месяц

Откройте CSV файл за нужный месяц для просмотра всех постов, опубликованных в этот период.

## Как проверить содержание поста

### По message_preview

В каждом посте есть поле "message_preview", которое содержит:
- Первые 50 символов сообщения
- Многоточие
- Последние 50 символов сообщения

Это позволяет быстро оценить содержание поста без чтения полного текста.

### По хэшу

Поле "hash" содержит MD5 хэш полного сообщения. Это позволяет:
- Проверить целостность сообщения
- Обнаружить изменения в содержании
- Сравнить идентичность постов

### По временным меткам

Поле "published_at" содержит точное время публикации поста в ISO формате.

## Пример поиска

Допустим, вы хотите найти посты из Telegram канала "News Channel" за октябрь 2023 года:

1. Перейдите в: `telegram/News_Channel_id_456/`
2. Откройте файл: `2023-10.csv`
3. Просмотрите все посты за этот месяц

## Работа с CSV файлами

CSV файлы можно открывать в:
- Табличных редакторах (Excel, Google Sheets, LibreOffice Calc)
- Текстовых редакторах с поддержкой CSV
- Через командную строку с помощью `csvkit`, `xsv` или аналогичных утилит

### Пример просмотра через командную строку:
```bash
# Просмотр первых 10 строк
head -n 10 2023-10.csv

# Просмотр с форматированием столбцов
column -t -s, 2023-10.csv | less -S
```

## Примечания
- Все имена файлов и директорий используют безопасные символы
- Месяцы представлены в формате YYYY-MM
- Время представлено в UTC
- Репозиторий автоматически обновляется при появлении новых постов
- CSV файлы используют кодировку UTF-8
- Разделитель - запятая
- Первая строка содержит заголовки колонок